% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/R_02_build_spatial_weights.R
\name{get_weights_for_county_year}
\alias{get_weights_for_county_year}
\title{Build NDVI/ET-based weights for a single county-year}
\usage{
get_weights_for_county_year(
  county_sf,
  county_name,
  sensor,
  year,
  season_start,
  season_end,
  CRS_TARGET,
  crop_code,
  crop_name,
  a_ndvi,
  a_et,
  NASS_planted_area_ha = NULL,
  NASS_harvest_area_ha = NULL,
  lower_thresh = 0.6,
  upper_thresh = 2,
  area_buffer_frac = 0.05,
  cdl_dir,
  cache_dir
)
}
\arguments{
\item{county_sf}{sf polygon for the county (single feature)}

\item{county_name}{character name (used in logging and filenames)}

\item{sensor}{character, e.g. "Landsat", "Sentinel-2"}

\item{year}{integer year}

\item{season_start}{character, e.g. "04-01"}

\item{season_end}{character, e.g. "09-30"}

\item{CRS_TARGET}{target CRS for processing (e.g. "EPSG:5070")}

\item{crop_code}{integer CDL code for crop}

\item{crop_name}{character crop label, used in cache dir}

\item{a_ndvi}{numeric weight for NDVI (0–1)}

\item{a_et}{numeric weight for ET (0–1)}

\item{NASS_planted_area_ha}{numeric planted area (ha)}

\item{NASS_harvest_area_ha}{numeric harvested area (ha)}

\item{lower_thresh, upper_thresh}{thresholds for CDL/NASS area ratio}

\item{area_buffer_frac}{NDVI eligibility buffer (e.g. 0.05)}

\item{cdl_dir}{directory that holds CDL mosaics "CDL_\if{html}{\out{<year>}}_48.tif"}

\item{cache_dir}{directory to write NDVI/ET/weight rasters}
}
\value{
list with weight raster, ndvi, et, masks, diagnostics.
}
\description{
Build NDVI/ET-based weights for a single county-year
}
