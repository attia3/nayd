% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/R_04_disagg_units_yield.R
\name{disagg_units_yield_safe}
\alias{disagg_units_yield_safe}
\title{Disaggregate NASS yield to units with crop-specific safeguards}
\usage{
disagg_units_yield_safe(
  units_sf,
  nass_area_ha,
  nass_yield_kg_ha,
  county,
  year,
  beta,
  crop = NULL,
  to_crs = "EPSG:4326",
  min_frac = NULL,
  max_frac = NULL,
  y_min_crop = NULL,
  y_max_crop = NULL,
  min_abs = NULL
)
}
\arguments{
\item{units_sf}{sf; must contain \code{unit_id}, \code{unit_area_ha}, \code{unit_w_sum}, \code{geometry}}

\item{nass_area_ha}{numeric; NASS harvested area in ha}

\item{nass_yield_kg_ha}{numeric; NASS mean yield (kg/ha)}

\item{county}{character; county name (for metadata / diagnostics)}

\item{year}{integer; year (for metadata / diagnostics)}

\item{beta}{numeric; exponent applied to unit weight sums}

\item{crop}{character; crop name used to select default caps (e.g. "cotton")}

\item{to_crs}{character; target CRS for lon/lat export (default "EPSG:4326")}

\item{min_frac}{numeric or NULL; optional minimum fraction of county mean}

\item{max_frac}{numeric or NULL; optional maximum fraction of county mean}

\item{y_min_crop}{numeric or NULL; optional crop-specific min yield (kg/ha)}

\item{y_max_crop}{numeric or NULL; optional crop-specific max yield (kg/ha)}

\item{min_abs}{numeric or NULL; optional legacy absolute minimum yield (kg/ha)}
}
\value{
list with:
\itemize{
\item units_with_yield: sf with per-unit yields, production, etc.
\item check: data.frame of diagnostics (area, mean yield, deviation from NASS)
}
}
\description{
Disaggregate NASS yield to units with crop-specific safeguards
}
